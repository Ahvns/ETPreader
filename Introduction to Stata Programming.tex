% document class settings
\documentclass[12pt, a4paper]{article}

% encoding
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

% opmaak
\usepackage{microtype}
\usepackage{XCharter}
\usepackage[T1]{eulervm}
\usepackage[scale=0.9]{FiraMono}
\usepackage[margin=2.5cm]{geometry}

\usepackage{titlesec}

% code blocks
\usepackage{caption}
\usepackage[outputdir=build,newfloat]{minted}
\usemintedstyle{stata}
%\renewcommand\listingscaption{Example code}
\captionsetup[listing]{position=top, name=Example code}
\SetupFloatingEnvironment{listing}{name=Example code,listname=Example Code}
\setminted{
  autogobble=true,
  fontsize=\footnotesize,
  frame=lines,
  linenos=true,
  bgcolor=azure,
  breaklines,
  breaksymbolleft={},
  breakindent=5ex
}
\usepackage{xcolor}
\definecolor{azure}{rgb}{0.93, 0.96, 0.96}


% from https://tex.stackexchange.com/questions/83204/how-can-i-make-source-code-included-with-minted-copyable
\usepackage{accsupp}
\newcommand\emptyaccsupp[1]{\BeginAccSupp{ActualText={}}#1\EndAccSupp{}}
\let\theHFancyVerbLine\theFancyVerbLine
\def\theFancyVerbLine{\rmfamily\tiny\emptyaccsupp{\arabic{FancyVerbLine}}}

\newcommand{\inputst}[1]{\inputminted{stata}{./Example do-files/#1}}
\newcommand{\st}[1]{\mintinline{stata}{#1}}%


%figures
\usepackage{graphicx}
\graphicspath{ {./figures} }

% regelafstand
\usepackage{setspace}
\onehalfspacing%

% header & footer
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead[L]{\small\itshape~Introduction to Stata Programming}%
\fancyhead[R]{\small\itshape\leftmark~}%
\fancyfoot[C]{\thepage}%
\setlength{\headheight}{14pt}%
\renewcommand{\sectionmark}[1]{%
  \markboth{#1}{}}%

% footnote spacing
\makeatletter%
\long\def\@makefntext#1{%
  \parindent 1em\noindent \hb@xt@ 1.8em{\hss \@makefnmark}\hskip2mm\relax#1}%
\makeatother

% bibliography
\usepackage[style=apa,natbib]{biblatex}
\addbibresource{references.bib}


% hyperlinks
\usepackage{hyperref}
\hypersetup{
  colorlinks=true,
  allcolors=black,
  linkcolor=blue,
  urlcolor=blue,
  citecolor=blue,
  linktocpage=true,
  hypertexnames=false
}
% easy references to tables/figures etc
\usepackage[capitalise,noabbrev]{cleveref}
\crefname{listing}{Example code}{Example code}

% less "hanging" text at bottom or top of pages
\widowpenalty=10000
\clubpenalty=10000


\begin{document}

\input{Sections/titlepage}

\tableofcontents
\markboth{Contents}{}

\newcommand{\sectionbreak}{%
  \par%
  \begin{center}---\texttt{*}---\end{center}%
  \clearpage%
}%
\listoflistings


\section{Introduction}

\input{Sections/intro}

\section{Information Management}

\input{Sections/information}

\section{Automation}

\input{Sections/automation}

\section{Custom Commands}

\input{Sections/commands}

\section{General Tips}

\input{Sections/general tips}

%\printbibliography

\end{document}
